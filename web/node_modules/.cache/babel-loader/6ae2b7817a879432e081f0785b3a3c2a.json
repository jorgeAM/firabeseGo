{"ast":null,"code":"var _jsxFileName = \"/Users/jorgeam/Desktop/auth/frontend/src/components/login.js\",\n    _s = $RefreshSig$();\n\nimport \"firebase/auth\";\nimport app from \"firebase/app\";\nimport { Flex, Input, FormControl, FormLabel, Box, Button } from \"@chakra-ui/react\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const auth = app.auth();\n  const [payload, setPayload] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const onClickLogin = async ev => {\n    ev.preventDefault();\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    };\n\n    try {\n      var _jsonRes$user;\n\n      const res = await fetch(\"http://localhost:4000/login\", requestOptions);\n      const jsonRes = await res.json();\n      const token = jsonRes === null || jsonRes === void 0 ? void 0 : (_jsonRes$user = jsonRes.user) === null || _jsonRes$user === void 0 ? void 0 : _jsonRes$user.token;\n      console.log(token);\n      const firabaseRes = await auth.signInWithCustomToken(token);\n      console.log(firabaseRes);\n    } catch (err) {\n      console.log(\"err: \", err);\n    }\n  };\n\n  const onChangeInput = ev => {\n    setPayload({ ...payload,\n      [ev.target.name]: ev.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        id: \"email\",\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          children: \"Correo Electr\\xF3nico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"email\",\n          value: payload.email,\n          onChange: onChangeInput,\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        id: \"password\",\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          children: \"Contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          value: payload.password,\n          onChange: onChangeInput,\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"blue\",\n        onClick: onClickLogin,\n        children: \"Registrarte\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"iO0/+LjRTIVHGrXX+GVHYSTy1c8=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/jorgeam/Desktop/auth/frontend/src/components/login.js"],"names":["app","Flex","Input","FormControl","FormLabel","Box","Button","useState","Login","auth","payload","setPayload","email","password","onClickLogin","ev","preventDefault","requestOptions","method","headers","body","JSON","stringify","res","fetch","jsonRes","json","token","user","console","log","firabaseRes","signInWithCustomToken","err","onChangeInput","target","name","value"],"mappings":"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","sourcesContent":["import \"firebase/auth\";\nimport app from \"firebase/app\";\nimport {\n  Flex,\n  Input,\n  FormControl,\n  FormLabel,\n  Box,\n  Button,\n} from \"@chakra-ui/react\";\nimport { useState } from \"react\";\n\nconst Login = () => {\n  const auth = app.auth();\n\n  const [payload, setPayload] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const onClickLogin = async (ev) => {\n    ev.preventDefault();\n\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    };\n\n    try {\n      const res = await fetch(\"http://localhost:4000/login\", requestOptions);\n      const jsonRes = await res.json();\n\n      const token = jsonRes?.user?.token;\n\n      console.log(token);\n      const firabaseRes = await auth.signInWithCustomToken(token);\n\n      console.log(firabaseRes);\n    } catch (err) {\n      console.log(\"err: \", err);\n    }\n  };\n\n  const onChangeInput = (ev) => {\n    setPayload({\n      ...payload,\n      [ev.target.name]: ev.target.value,\n    });\n  };\n\n  return (\n    <Flex\n      height={\"100%\"}\n      justifyContent={\"center\"}\n      alignItems={\"center\"}\n      flexDirection={\"column\"}\n    >\n      <Box>\n        <FormControl id=\"email\">\n          <FormLabel>Correo Electrónico</FormLabel>\n          <Input\n            type=\"email\"\n            value={payload.email}\n            onChange={onChangeInput}\n            name={\"email\"}\n          />\n        </FormControl>\n        <FormControl id=\"password\">\n          <FormLabel>Contraseña</FormLabel>\n          <Input\n            type=\"password\"\n            value={payload.password}\n            onChange={onChangeInput}\n            name={\"password\"}\n          />\n        </FormControl>\n        <Button colorScheme=\"blue\" onClick={onClickLogin}>\n          Registrarte\n        </Button>\n      </Box>\n    </Flex>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}